{"version":3,"sources":["components/PersonForm.js","components/Persons.js","request.js","App.js","index.js"],"names":["PersonForm","addPerson","newName","changeName","newNumber","changeNumber","onSubmit","value","onChange","type","Persons","filterPersons","deletePerson","map","item","name","number","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","useEffect","getAll","request","personList","console","log","e","target","preventDefault","newPerson","filter","length","find","concat","ReactDOM","render","document","getElementById"],"mappings":"gJAwBeA,EAtBI,SAAC,GAMX,IALLC,EAKI,EALJA,UACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,UACAC,EACI,EADJA,aAEF,OACI,uBAAMC,SAAUL,EAAhB,UACE,yCACQ,uBAAOM,MAAOL,EAASM,SAAUL,OAEzC,2CACU,uBAAOI,MAAOH,EAAWI,SAAUH,OAE7C,8BACE,wBAAQI,KAAK,SAAb,uBCOKC,EAvBC,SAAC,GAGR,IAFLC,EAEI,EAFJA,cACAC,EACI,EADJA,aAEF,OACE,8BAEID,EAAcE,KAAI,SAAAC,GAAI,OAAI,kCAGtBA,EAAKC,KAHiB,IAKtBD,EAAKE,OALiB,IAMtB,wBAAQC,QACR,kBAAIL,EAAaE,EAAKI,KADtB,4BALAJ,EAAKI,U,gBCPXC,EAAU,oCAuBF,EApBC,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB7B,EAfC,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa7B,EAVC,SAACN,EAAIO,GAElB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBD,GAAMO,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ7B,EALK,SAACN,GAEhB,OADgBE,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BD,IAC5BI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCiD9BK,EAlEH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KAEA,EAA8BF,mBAAS,IAAvC,mBAAO5B,EAAP,KAAgB+B,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAO1B,EAAP,KAAkB8B,EAAlB,KACA,EAAkCJ,mBAAS,IAA3C,6BAEAK,qBAAU,WACRC,MACC,IAEH,IAAMA,EAAS,WACbC,IAAiBf,MAAK,SAAAgB,GACpBC,QAAQC,IAAIF,GACZN,EAAWM,OAsCf,OACE,gCACE,2CAIE,2CACA,cAAC,EAAD,CAAYpC,QAASA,EAASC,WAtBjB,SAACsC,GAClBR,EAAWQ,EAAEC,OAAOnC,QAqBsCH,UAAWA,EAAYC,aAlB9D,SAACoC,GACpBP,EAAaO,EAAEC,OAAOnC,QAiBuFN,UA1C7F,SAACwC,GACjBA,EAAEE,iBACF,IAAMC,EAAY,CAChB7B,KAAMb,EACNc,OAAQZ,GAEV,GAAI2B,EAAQc,QAAO,SAAA/B,GAAI,OAAIA,EAAKC,OAASb,KAAS4C,OAAQ,CAExD,IAAM5B,EAAKa,EAAQgB,MAAK,SAAAjC,GAAI,OAAEA,EAAKC,OAASb,KAASgB,GACrDmB,EAAenB,EAAI0B,GAAWtB,MAAK,SAAAE,GACjCY,YAGFC,EAAeO,GAAWtB,MAAK,SAAAE,GAC7BQ,EAAWD,EAAQiB,OAAOxB,UA6B5B,yCACA,cAAC,EAAD,CAASb,cAAeoB,EAASnB,aAhBhB,SAACM,GACpBqB,QAAQC,IAAItB,GACZmB,EAAmBnB,GAAII,MAAK,SAAAE,GAC1BY,cCnDNa,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.6ea292d1.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = ({\n    addPerson,\n    newName,\n    changeName,\n    newNumber,\n    changeNumber\n  }) => {\n  return (\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={changeName} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={changeNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Persons = ({\n    filterPersons,\n    deletePerson\n  }) => {\n  return (\n    <div>\n      {\n        filterPersons.map(item => < p key = {\n            item.id\n          } > {\n            item.name\n          } {\n            item.number\n          } <button onClick = {\n            ()=>deletePerson(item.id)\n          }\n          >删除</button></p > )\n      }\n\n    </div>\n  )\n}\n\nexport default Persons\n","\n\nimport axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\n\nconst getAll = () =>{\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteItem = (id) =>{\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default{\n  getAll,\n  create,\n  update,\n  deleteItem\n}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport request from './request'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  // const [filterPersons, setFilterPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n\n  useEffect(() => {\n    getAll()\n  }, [])\n\n  const getAll = () =>{\n    request.getAll().then(personList => {\n      console.log(personList)\n      setPersons(personList)\n    })\n  }\n  const addPerson = (e) => {\n    e.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    if (persons.filter(item => item.name === newName).length) {\n      // alert(`${newName} has already added`)\n      const id = persons.find(item=>item.name === newName).id\n      request.update(id, newPerson).then(data => {\n        getAll()\n      })\n    }else{\n      request.create(newPerson).then(data => {\n        setPersons(persons.concat(data))\n      })\n    }\n\n  }\n\n  const changeName = (e) => {\n    setNewName(e.target.value)\n  }\n  \n  const changeNumber = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const deletePerson = (id) =>{\n    console.log(id)\n    request.deleteItem(id).then(data=>{\n      getAll()\n    })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n        {/* <div>\n          <Filter newFilter={newFilter} changeFilter={changeFilter}/>\n        </div>   */}\n        <h3>Add a new</h3>\n        <PersonForm newName={newName} changeName={changeName} newNumber={newNumber}  changeNumber={changeNumber} addPerson={addPerson}/>\n      <h2>Numbers</h2>\n      <Persons filterPersons={persons} deletePerson={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}